(function t(){var r=Okta.parseUri,n=_okta.any,o=_okta.compose,a=_okta.contains,i=_okta.each,e=_okta.find,s=_okta.reduce,u=Okta.fn.other.string.endsWith,c=_okta.pick,f=Okta.fn.url={};var l=["cloudareanet.com","clouditude.com","hioktane.com","lowoktane.com","openalloy.com","okta.com","okta1.com","okta-emea.com","oktapreview.com","perfcloud.org","primeapp.com","trexcloud.com","widerock.com"];var m="-admin";var p=["/app/UserHome","/app/Home","/enduser"];var h=["/app/UserHome","/plugin/bookmark","/home/plugin","/enduser/app-settings"];var k=["www.okta.com","trust.okta.com","system.okta.com","static.okta.com","support.okta.com","developer.okta.com","login.okta.com","help.okta.com","trustro.okta.com","investor.okta.com","oanmanager.okta.com","oinmanager.okta.com","devforum.okta.com","store.okta.com"];var g=["/app/*/*/sso/saml*","/app/office365/*/*"];var P=["/sso/wsfed/signout"];var d="/api/plugin/2/sites*";function O(r){var a=[],e="https://*.",n="http://*.";i(l,function(t){var o=t+r;a.push(e+o);if(Okta.Config.allowOktaHttp){a.push(n+o)}});return a}f.hrefToUrlParts=function(t){var o=r(t);o.href=t;return c(o,"anchor","path","port","host","protocol","href","queryKey")};f.locationToUrlParts=function(t){return{anchor:t.hash.replace("#",""),path:t.pathname,port:t.port,host:t.hostname,protocol:t.protocol.replace(":",""),href:t.href,queryKey:r(t.search)["queryKey"]}};f.urlPartsToHref=function(t){return t.href};f.urlPartsToDomain=function(t){var o=t.protocol+"://"+t.host;if(t.port!==""){o+=":"+t.port}return o};f.urlPartsToDomainWithoutPort=function(t){var o=t.protocol+"://"+t.host;return o};f.urlPartsToDomainAndPath=function(t){return f.urlPartsToDomain(t)+t.path};f.replaceUrlPartsPath=function(t,o){return f.hrefToUrlParts(f.urlPartsToDomain(t)+o)};f.isOktaPage=function(t,o){var r,a,e;if(!Okta.Config.allowOktaHttp&&t.protocol!=="https"){return false}if(o&&o!==t.path.substring(0,o.length)){return false}r=t.host.split(".");if(r.length<2){return false}a=r[r.length-2]+"."+r[r.length-1];e=n(l,function(t){return t===a});return e};f.isOktaHref=o(f.isOktaPage,f.hrefToUrlParts);f.isOktaAdminPage=function(t){var o=t.host.split(".");return f.isOktaPage(t)&&u(o[0],m)};f.isOktaEndUserHomePage=function(o){return f.isOktaHref(o.href)&&!f.isOktaAdminPage(o)&&!!e(p,function(t){return o.path.indexOf(t)===0})};f.isOktaPluginHomePage=function(o){return!!e(h,function(t){return f.isOktaPage(o,t)})};f.isOktaEndUserHomeHref=o(f.isOktaEndUserHomePage,f.hrefToUrlParts);f.normalizeOktaSubdomain=function(t){if(f.isOktaAdminPage(t)){var o=t.host.split(".");o[0]=o[0].substr(0,o[0].length-m.length);t.host=o.join(".")}return t};f.isOktaTrustedFQDN=function(t){return a(k,t.host)};f.matchesHref=function(t){var o=new Okta.Url(f.urlPartsToHref(t));return function(t){return o.matches(t)}};f.matchesDomains=function(t,o){return f.urlPartsToDomain(t)===f.urlPartsToDomain(o)};f.getOktaFederatedRequestMatchPatterns=function(){return s(g,function(t,o){return t.concat(O(o))},[])};f.isAllowedOktaRequestForAuthMonitoring=function(o){if(!o){return false}if(!f.isOktaPage(f.hrefToUrlParts(o))){return false}return!e(P,function(t){return o.indexOf(t)>-1})};f.getMonitoredSitesApiMatchPatterns=function(){return O(d)}})();